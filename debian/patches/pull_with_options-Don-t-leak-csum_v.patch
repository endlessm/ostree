From: Alexander Larsson <alexl@redhat.com>
Date: Mon, 28 Nov 2016 15:56:50 +0100
Subject: pull_with_options: Don't leak csum_v

Closes: #596
Approved by: cgwalters
Origin: upstream, 2016.15, commit:239cb14
---
 src/libostree/ostree-repo-pull.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/libostree/ostree-repo-pull.c b/src/libostree/ostree-repo-pull.c
index 6f32c77..303daec 100644
--- a/src/libostree/ostree-repo-pull.c
+++ b/src/libostree/ostree-repo-pull.c
@@ -2800,7 +2800,7 @@ ostree_repo_pull_with_options (OstreeRepo             *self,
         for (i = 0; i < n; i++)
           {
             const char *delta;
-            GVariant *csum_v = NULL;
+            g_autoptr(GVariant) csum_v = NULL;
             guchar *csum_data = g_malloc (OSTREE_SHA256_DIGEST_LEN);
             g_autoptr(GVariant) ref = g_variant_get_child_value (deltas, i);
 
